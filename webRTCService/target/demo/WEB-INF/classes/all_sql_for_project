-- таблица для сип юзеров необходимых для коннекта для астериски.
--
create table sip_users
(
  id SERIAL
  primary key,
  name varchar(80) default '' not null,
  secret varchar(80) null,
  agent_id varchar(80) null,
  host varchar(31) default '' null,
  nat varchar(100) null,
  type varchar(100) default 'friend' null,
  accountcode varchar(20) null,
  amaflags varchar(13) null,
  call_limit smallint null,
  callgroup varchar(10) null,
  callerid varchar(80) null,
  cancallforward char(3) default 'yes' null,
  canreinvite char(3) default 'yes' null,
  context varchar(80) default 'cc' null,
  dtmfmode varchar(7) null,
  fromuser varchar(80) null,
  fromdomain varchar(80) null,
  insecure varchar(4) null,
  language char(2) null,
  mailbox varchar(50) null,
  md5secret varchar(80) null,
  deny varchar(95) null,
  permit varchar(95) null,
  mask varchar(95) null,
  musiconhold varchar(100) null,
  pickupgroup varchar(10) null,
  qualify char(3) null,
  regexten varchar(80) null,
  restrictcid char(3) null,
  rtptimeout char(3) null,
  rtpholdtimeout char(3) null,
  setvar varchar(100) null,
  disallow varchar(100) default 'all' null,
  allow varchar(100) default 'g729; ilbc; gsm; ulaw; alaw' null,
  ipaddr varchar(45) null,
  port varchar(80) default '0' not null,
  regserver varchar(100) null,
  regseconds int null,
  lastms int default '0' not null,
  username varchar(80) null,
  defaultuser varchar(80) null,
  subscribecontext varchar(80) null,
  useragent varchar(80) null,
  encryption char(3) null,
  avpf char(3) null,
  force_avp char(3) null,
  icesupport char(3) null,
  directmedia char(3) null,
  dtlsenable char(3) null,
  dtlsverify varchar(20) null,
  dtlscertfile varchar(100) null,
  dtlscafile varchar(100) null,
  dtlssetup varchar(20) null,
  rtcp_mux char(3) null,
  udpenable varchar(3) default 'yes' not null,
  tlsenable varchar(3) default 'yes' not null,
  tcpenable varchar(3) default 'yes' not null,
  bindaddr varchar(20) default '127.0.0.1' not null,
  tlsbindport varchar(6) default '5061' not null,
  tlscertfile varchar(50) default '/etc/asterisk/keys/asterisk.pem' not null,
  tlsprivatekey varchar(50) default '/etc/asterisk/keys/asterisk.key' null,
  tlscafile varchar(50) default '/etc/asterisk/keys/ca.crt' not null,
  tlscapath varchar(50) default '/etc/asterisk/keys' not null,
  tlscipher varchar(50) default 'ADH-AES256-SHA,ADH-AES128-SHA' not null,
  tlsclientmethod varchar(50) default 'TLSv1' not null,
  tlsdontverifyserver varchar(3) default 'yes' not null,
  callbackextension varchar(10) null,
  transport varchar(20) default 'udp,wss' not null,
  udpbindaddr varchar(20) default '0.0.0.0:5060' not null,
  realm varchar(20) default '127.0.0.1' not null,
  fullcontact varchar(255) null,
  rtcachefriends varchar(20) default 'yes' null,
  isbusy smallint null ,
  constraint name
  unique (name)
)
;